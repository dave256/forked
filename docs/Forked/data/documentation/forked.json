{"metadata":{"externalID":"Forked","symbolKind":"module","roleHeading":"Framework","title":"Forked","role":"collection","modules":[{"name":"Forked"}]},"kind":"symbol","primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","text":"Overview","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Forked provides a comprehensive solution for managing concurrent data access and synchronization through a Git-inspired branching and merging system. Instead of using traditional concurrency primitives like locks or actors, Forked allows you to safely work with multiple copies of data and merge them systematically."}],"type":"paragraph"},{"level":2,"type":"heading","text":"Key Concepts","anchor":"Key-Concepts"},{"text":"Forks","type":"heading","level":3,"anchor":"Forks"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A fork represents a branch of your data that can be modified independently of other branches. Every "},{"isActive":true,"type":"reference","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource"},{"type":"text","text":" has a "},{"type":"codeVoice","code":"main"},{"type":"text","text":" fork, and you can create additional named forks for different purposes like UI updates, background processing, or network synchronization."}]},{"anchor":"Resources","text":"Resources","type":"heading","level":3},{"inlineContent":[{"text":"A ","type":"text"},{"identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource","type":"reference","isActive":true},{"type":"text","text":" manages the state and history of your data across multiple forks. It tracks changes, maintains the common ancestor states needed for merging, and provides methods for updating and querying values in different forks."}],"type":"paragraph"},{"level":3,"text":"Merging","type":"heading","anchor":"Merging"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When forks diverge and need to be reconciled, Forked provides sophisticated merging capabilities. The framework supports both automatic merging for simple types and custom merge strategies for complex data structures."}]},{"type":"heading","anchor":"Repositories","text":"Repositories","level":3},{"inlineContent":[{"text":"A ","type":"text"},{"type":"reference","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource","isActive":true},{"type":"text","text":" does not actually store any data: it just contains the logic for managing forks and resources. Repositories provide the storage for a "},{"type":"codeVoice","code":"ForkedResource"},{"type":"text","text":", whether it be in memory, on disk, in a database, or in the cloud."}],"type":"paragraph"}]}],"variants":[{"paths":["\/documentation\/forked"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"topicSections":[{"anchor":"Essentials","title":"Essentials","identifiers":["doc:\/\/Forked\/documentation\/Forked\/GettingStarted","doc:\/\/Forked\/documentation\/Forked\/ForkedResource","doc:\/\/Forked\/documentation\/Forked\/Mergeable","doc:\/\/Forked\/documentation\/Forked\/Repository"]},{"identifiers":["doc:\/\/Forked\/documentation\/Forked\/QuickFork","doc:\/\/Forked\/documentation\/Forked\/ForkedResource\/update(_:with:)","doc:\/\/Forked\/documentation\/Forked\/ForkedResource\/value(in:)"],"title":"Working with Resources","anchor":"Working-with-Resources"},{"anchor":"Merging-and-Conflict-Resolution","title":"Merging and Conflict Resolution","identifiers":["doc:\/\/Forked\/documentation\/Forked\/Mergeable"]},{"identifiers":["doc:\/\/Forked\/documentation\/Forked\/GettingStarted","doc:\/\/Forked\/documentation\/Forked\/CloudKitIntegration","doc:\/\/Forked\/documentation\/Forked\/ForkedInnards"],"title":"Articles","anchor":"Articles"},{"anchor":"Classes","generated":true,"title":"Classes","identifiers":["doc:\/\/Forked\/documentation\/Forked\/AtomicRepository","doc:\/\/Forked\/documentation\/Forked\/FileRepository"]},{"title":"Protocols","identifiers":["doc:\/\/Forked\/documentation\/Forked\/VersionedModel"],"generated":true,"anchor":"Protocols"},{"generated":true,"anchor":"Structures","title":"Structures","identifiers":["doc:\/\/Forked\/documentation\/Forked\/Commit","doc:\/\/Forked\/documentation\/Forked\/Fork","doc:\/\/Forked\/documentation\/Forked\/ForkChange","doc:\/\/Forked\/documentation\/Forked\/Version"]},{"anchor":"Variables","generated":true,"title":"Variables","identifiers":["doc:\/\/Forked\/documentation\/Forked\/forkedAPIVersion"]},{"anchor":"Type-Aliases","title":"Type Aliases","generated":true,"identifiers":["doc:\/\/Forked\/documentation\/Forked\/ChangeStream"]},{"title":"Enumerations","identifiers":["doc:\/\/Forked\/documentation\/Forked\/CommitContent","doc:\/\/Forked\/documentation\/Forked\/Error","doc:\/\/Forked\/documentation\/Forked\/MergeAction"],"generated":true,"anchor":"Enumerations"},{"identifiers":["doc:\/\/Forked\/documentation\/Forked\/Swift"],"generated":true,"title":"Extended Modules","anchor":"Extended-Modules"}],"hierarchy":{"paths":[[]]},"abstract":[{"type":"text","text":"A framework for handling shared data with confidence in Swift."}],"identifier":{"url":"doc:\/\/Forked\/documentation\/Forked","interfaceLanguage":"swift"},"sections":[],"references":{"doc://Forked/documentation/Forked/ForkedResource/update(_:with:)":{"title":"update(_:with:)","type":"topic","url":"\/documentation\/forked\/forkedresource\/update(_:with:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"update","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:6Forked4ForkV","text":"Fork"},{"text":", ","kind":"text"},{"text":"with","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:6Forked0A8ResourceC","text":"ForkedResource","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"text":"RepositoryType","kind":"typeIdentifier"},{"text":">.","kind":"text"},{"text":"ResourceType","kind":"typeIdentifier"},{"kind":"text","text":") "},{"text":"throws","kind":"keyword"},{"kind":"text","text":" -> "},{"text":"Version","preciseIdentifier":"s:6Forked7VersionV","kind":"typeIdentifier"}],"role":"symbol","conformance":{"conformancePrefix":[{"type":"text","text":"Conforms when"}],"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"type":"codeVoice","code":"RepositoryType"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Repository"},{"type":"text","text":" and "},{"code":"RepositoryType.Resource","type":"codeVoice"},{"text":" conforms to ","type":"text"},{"type":"codeVoice","code":"Sendable"},{"type":"text","text":"."}]},"kind":"symbol","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource\/update(_:with:)","abstract":[{"text":"Update the contents of a fork with a new resource value. Will create a commit, and return the ","type":"text"},{"type":"codeVoice","code":"Version"},{"type":"text","text":"."}]},"doc://Forked/documentation/Forked/forkedAPIVersion":{"type":"topic","url":"\/documentation\/forked\/forkedapiversion","identifier":"doc:\/\/Forked\/documentation\/Forked\/forkedAPIVersion","abstract":[{"text":"The version of the Forked API. Older versions are incapable or understanding or","type":"text"},{"text":" ","type":"text"},{"text":"merging with the newer versions. (Newer versions should be capable of importing","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the older ones.)"}],"title":"forkedAPIVersion","kind":"symbol","role":"symbol","fragments":[{"text":"let","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"forkedAPIVersion"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"}]},"doc://Forked/documentation/Forked/Swift":{"type":"topic","title":"Swift","role":"collection","abstract":[],"identifier":"doc:\/\/Forked\/documentation\/Forked\/Swift","url":"\/documentation\/forked\/swift","kind":"symbol"},"doc://Forked/documentation/Forked/ForkedResource/value(in:)":{"url":"\/documentation\/forked\/forkedresource\/value(in:)","kind":"symbol","type":"topic","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource\/value(in:)","conformance":{"availabilityPrefix":[{"text":"Available when","type":"text"}],"conformancePrefix":[{"text":"Conforms when","type":"text"}],"constraints":[{"type":"codeVoice","code":"RepositoryType"},{"type":"text","text":" conforms to "},{"type":"codeVoice","code":"Repository"},{"text":" and ","type":"text"},{"type":"codeVoice","code":"RepositoryType.Resource"},{"text":" conforms to ","type":"text"},{"type":"codeVoice","code":"Sendable"},{"type":"text","text":"."}]},"role":"symbol","abstract":[{"type":"text","text":"Same as calling "},{"type":"codeVoice","code":"resource(of:)"},{"type":"text","text":"."}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"value"},{"text":"(","kind":"text"},{"text":"in","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:6Forked4ForkV","text":"Fork","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"preciseIdentifier":"s:6Forked0A8ResourceC","kind":"typeIdentifier","text":"ForkedResource"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"RepositoryType"},{"text":">.","kind":"text"},{"text":"ResourceType","kind":"typeIdentifier"},{"kind":"text","text":"?"}],"title":"value(in:)"},"doc://Forked/documentation/Forked/Error":{"type":"topic","role":"symbol","kind":"symbol","url":"\/documentation\/forked\/error","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Error","kind":"identifier"}],"abstract":[{"text":"Errors that can arise when  using ","type":"text"},{"type":"codeVoice","code":"ForkedResource"}],"navigatorTitle":[{"text":"Error","kind":"identifier"}],"title":"Error","identifier":"doc:\/\/Forked\/documentation\/Forked\/Error"},"doc://Forked/documentation/Forked/Mergeable":{"type":"topic","role":"symbol","kind":"symbol","url":"\/documentation\/forked\/mergeable","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"Mergeable","kind":"identifier"}],"abstract":[{"type":"text","text":"Any type conforming to this can be used in a 3-way merge"}],"navigatorTitle":[{"kind":"identifier","text":"Mergeable"}],"title":"Mergeable","identifier":"doc:\/\/Forked\/documentation\/Forked\/Mergeable"},"doc://Forked/documentation/Forked/ForkedResource":{"role":"symbol","kind":"symbol","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedResource","type":"topic","navigatorTitle":[{"text":"ForkedResource","kind":"identifier"}],"abstract":[{"text":"This manages forks of a resource. It facilitiates concurrent changes to a single resource, and","type":"text"},{"text":" ","type":"text"},{"text":"provides a systematic approach for merging changes, with support for 3-way merging.","type":"text"}],"url":"\/documentation\/forked\/forkedresource","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ForkedResource","kind":"identifier"}],"title":"ForkedResource"},"doc://Forked/documentation/Forked/ForkChange":{"navigatorTitle":[{"text":"ForkChange","kind":"identifier"}],"kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ForkChange","kind":"identifier"}],"title":"ForkChange","type":"topic","role":"symbol","abstract":[],"url":"\/documentation\/forked\/forkchange","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkChange"},"doc://Forked/documentation/Forked/ForkedInnards":{"kind":"article","identifier":"doc:\/\/Forked\/documentation\/Forked\/ForkedInnards","role":"article","type":"topic","abstract":[{"type":"text","text":"Forked is built around a simple yet powerful concept: data conflicts should be treated as a natural part of software systems rather than an exceptional state."}],"url":"\/documentation\/forked\/forkedinnards","title":"Forked Innards: Understanding the Architecture"},"doc://Forked/documentation/Forked/CloudKitIntegration":{"kind":"article","identifier":"doc:\/\/Forked\/documentation\/Forked\/CloudKitIntegration","abstract":[{"type":"text","text":"Learn how to use ForkedCloudKit to sync your data across devices."}],"url":"\/documentation\/forked\/cloudkitintegration","title":"CloudKit Integration Guide","type":"topic","role":"article"},"doc://Forked/documentation/Forked/AtomicRepository":{"identifier":"doc:\/\/Forked\/documentation\/Forked\/AtomicRepository","role":"symbol","navigatorTitle":[{"text":"AtomicRepository","kind":"identifier"}],"type":"topic","title":"AtomicRepository","url":"\/documentation\/forked\/atomicrepository","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"AtomicRepository"}],"kind":"symbol","abstract":[{"type":"text","text":"An atomic repository is one that gets loaded completely into memory."},{"type":"text","text":" "},{"text":"If the ","type":"text"},{"type":"codeVoice","code":"Resource"},{"type":"text","text":" it contains conforms to "},{"code":"Codable","type":"codeVoice"},{"type":"text","text":", the "},{"type":"codeVoice","code":"AtomicRepository"},{"text":" is","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"also "},{"type":"codeVoice","code":"Codable"},{"type":"text","text":", and can be converted to a serialized form and saved as a file."},{"text":" ","type":"text"},{"text":"Saving and loading are atomic, that is, the whole repository is loaded from file, and the whole","type":"text"},{"type":"text","text":" "},{"text":"file is written to disk.","type":"text"}]},"doc://Forked/documentation/Forked/QuickFork":{"fragments":[{"text":"typealias","kind":"keyword"},{"text":" ","kind":"text"},{"text":"QuickFork","kind":"identifier"}],"identifier":"doc:\/\/Forked\/documentation\/Forked\/QuickFork","abstract":[],"title":"QuickFork","navigatorTitle":[{"text":"QuickFork","kind":"identifier"}],"kind":"symbol","role":"symbol","type":"topic","url":"\/documentation\/forked\/quickfork"},"doc://Forked/documentation/Forked":{"url":"\/documentation\/forked","identifier":"doc:\/\/Forked\/documentation\/Forked","kind":"symbol","type":"topic","abstract":[{"text":"A framework for handling shared data with confidence in Swift.","type":"text"}],"title":"Forked","role":"collection"},"doc://Forked/documentation/Forked/Commit":{"abstract":[{"type":"text","text":"A commit comprises of content, which is usually a value of the stored resource,"},{"text":" ","type":"text"},{"type":"text","text":"together with a "},{"type":"codeVoice","code":"Version"},{"type":"text","text":"."}],"title":"Commit","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Commit"}],"url":"\/documentation\/forked\/commit","kind":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Commit","kind":"identifier"}],"identifier":"doc:\/\/Forked\/documentation\/Forked\/Commit","type":"topic"},"doc://Forked/documentation/Forked/VersionedModel":{"type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"protocol"},{"text":" ","kind":"text"},{"text":"VersionedModel","kind":"identifier"}],"abstract":[{"type":"text","text":"Protocol to track the model version of a "},{"type":"codeVoice","code":"ForkedResource"},{"type":"text","text":"."},{"text":" ","type":"text"},{"type":"text","text":"This isn’t very important on a single device, but if syncing between"},{"type":"text","text":" "},{"type":"text","text":"devices, it is important that a device that doesn’t yet have the"},{"text":" ","type":"text"},{"type":"text","text":"latest version does not try to import data from that version."},{"type":"text","text":" "},{"text":"If it does, it won’t know how to handle it, and may lose data.","type":"text"}],"role":"symbol","navigatorTitle":[{"text":"VersionedModel","kind":"identifier"}],"url":"\/documentation\/forked\/versionedmodel","title":"VersionedModel","identifier":"doc:\/\/Forked\/documentation\/Forked\/VersionedModel"},"doc://Forked/documentation/Forked/CommitContent":{"title":"CommitContent","role":"symbol","kind":"symbol","identifier":"doc:\/\/Forked\/documentation\/Forked\/CommitContent","type":"topic","abstract":[{"type":"text","text":"A wrapper to hold the resource. This allows for the resource to be"},{"type":"text","text":" "},{"text":"absent in a fork, similar to using ","type":"text"},{"code":"nil","type":"codeVoice"},{"type":"text","text":"."}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CommitContent","kind":"identifier"}],"navigatorTitle":[{"text":"CommitContent","kind":"identifier"}],"url":"\/documentation\/forked\/commitcontent"},"doc://Forked/documentation/Forked/GettingStarted":{"type":"topic","abstract":[{"text":"Learn how to use Forked to manage shared data in your Swift applications.","type":"text"}],"title":"Getting Started with Forked","kind":"article","identifier":"doc:\/\/Forked\/documentation\/Forked\/GettingStarted","role":"article","url":"\/documentation\/forked\/gettingstarted"},"doc://Forked/documentation/Forked/FileRepository":{"navigatorTitle":[{"kind":"identifier","text":"FileRepository"}],"title":"FileRepository","type":"topic","kind":"symbol","identifier":"doc:\/\/Forked\/documentation\/Forked\/FileRepository","abstract":[{"type":"text","text":"A FileRepository stores its contents in a directory structure on disk."},{"type":"text","text":" "},{"text":"Each fork corresponds to a subdirectory, and files are stored within those subdirectories.","type":"text"}],"role":"symbol","fragments":[{"kind":"keyword","text":"class"},{"text":" ","kind":"text"},{"kind":"identifier","text":"FileRepository"}],"url":"\/documentation\/forked\/filerepository"},"doc://Forked/documentation/Forked/Repository":{"url":"\/documentation\/forked\/repository","role":"symbol","navigatorTitle":[{"text":"Repository","kind":"identifier"}],"abstract":[{"text":"This is storage for the ","type":"text"},{"type":"codeVoice","code":"ForkedResource"},{"type":"text","text":". It could"},{"text":" ","type":"text"},{"text":"be persisted on disk, or just kept in memory.","type":"text"},{"text":" ","type":"text"},{"text":"This type does not understand any of the mechanisms of forking","type":"text"},{"type":"text","text":" "},{"type":"text","text":"and merging. That is all handled by the "},{"type":"codeVoice","code":"ForkedResource"},{"type":"text","text":", which also"},{"type":"text","text":" "},{"text":"ensures correct multi-threading behavior.","type":"text"},{"text":" ","type":"text"},{"text":"Classes conforming to this type simply have to setup a storage","type":"text"},{"text":" ","type":"text"},{"text":"mechanism, and handle the requests, keeping commits assigned to forks.","type":"text"}],"kind":"symbol","fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Repository"}],"identifier":"doc:\/\/Forked\/documentation\/Forked\/Repository","type":"topic","title":"Repository"},"doc://Forked/documentation/Forked/ChangeStream":{"abstract":[],"kind":"symbol","title":"ChangeStream","type":"topic","role":"symbol","navigatorTitle":[{"text":"ChangeStream","kind":"identifier"}],"url":"\/documentation\/forked\/changestream","fragments":[{"text":"typealias","kind":"keyword"},{"kind":"text","text":" "},{"text":"ChangeStream","kind":"identifier"}],"identifier":"doc:\/\/Forked\/documentation\/Forked\/ChangeStream"},"doc://Forked/documentation/Forked/MergeAction":{"url":"\/documentation\/forked\/mergeaction","identifier":"doc:\/\/Forked\/documentation\/Forked\/MergeAction","kind":"symbol","type":"topic","abstract":[{"text":"The action taken when two forks are merged.","type":"text"}],"title":"MergeAction","role":"symbol","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MergeAction","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"MergeAction"}]},"doc://Forked/documentation/Forked/Version":{"fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Version"}],"title":"Version","abstract":[{"type":"text","text":"Used to chronologically order file versions. It is a standard lamport count."}],"identifier":"doc:\/\/Forked\/documentation\/Forked\/Version","type":"topic","role":"symbol","kind":"symbol","url":"\/documentation\/forked\/version","navigatorTitle":[{"kind":"identifier","text":"Version"}]},"doc://Forked/documentation/Forked/Fork":{"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"text":"Fork","kind":"identifier"}],"kind":"symbol","title":"Fork","abstract":[{"text":"A type representing a named fork.","type":"text"}],"url":"\/documentation\/forked\/fork","type":"topic","identifier":"doc:\/\/Forked\/documentation\/Forked\/Fork","role":"symbol","navigatorTitle":[{"text":"Fork","kind":"identifier"}]}}}